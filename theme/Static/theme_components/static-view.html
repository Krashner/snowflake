<link rel="import" href="static-mainbar.html">
<link rel="import" href="static-background.html">
<link rel="import" href="static-titlebar.html">
<link rel="import" href="static-statusbar.html">
<link rel="import" href="static-view-list.html">
<link rel="import" href="base_components/snowflake-model.html">
<link rel="import" href="base_components/snowflake-controller-view.html">
<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">


<polymer-element name="static-view">
	<template>

		<style>
			* /deep/ *::selection{
			  background: #dedede; /* WebKit/Blink Browsers */
			}
			:host{
				overflow: hidden;
				-webkit-user-select: none;
			}
			static-background{
				z-index: -10000;
				position: fixed;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
			}
			static-mainbar{
				max-height: 30%;
				height: 10%;
				width: 100%;
				display: table-row;
				bottom: 0;
				right: 0;
				left: 0;
			}
			static-titlebar{
				display: table-row;
				height: 75px;
				z-index: 1000;
				width: 100%;
				position: relative;
			}
			static-statusbar{
				display: table-row;
				height: 35px;
				z-index: 1000;
				position: relative;
			}
			static-view-list{
				position: relative;
				display: block;
				height: inherit;
			}
			.viewcontainer{
				display: table-row;
				height: 100%;
				width: 100%;
				position: relative;
			}
			core-animated-pages{
				width: 100%;
				display: table;
				height: inherit;
			}
			.container{
				display: table;
				height: 100%;
				width: 100%;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
			}
			.hidden{
				height: 0;
				position: absolute; 
				visibility: hidden;
				display: none;
			}
			.view.view{
			position: relative;
			height: inherit;
			}
		</style>
		
	
		<snowflake-model-data gamesModel="{{gamesModel}}" platformsModel="{{platformsModel}}" platformsQuery="{{platformsQuery}}" gamesQuery="{{gamesQuery}}"></snowflake-model-data>
		<snowflake-model-display selectedGame="{{selectedGame}}" selectedPlatform="{{selectedPlatform}}" displayModel="{{displayModel}}" displayMode="{{displayMode}}"></snowflake-model-display>
		<snowflake-controller-view platformViews="{{platformViews}}" gameViews="{{gameViews}}" currentViews="{{currentViews}}" displayMode="{{displayMode}}" selectedView="{{selectedView}}"></snowflake-controller-view>
			
		<div class="container">	
		<!--	<static-titlebar titleText="{displayModel.title}}"></static-titlebar>-->
			<static-statusbar keyword="{{displayMode}}" status="{{statusText}}" selectedView="{{viewName}}"></static-statusbar>
			<div class="viewcontainer">
				<!--<core-animated-pages transitions="cross-fade" selected="{{viewName}}" valueattr="modelName">
				<section class="view" cross-fade modelName="view-list-games">
					<static-view-list displayModel="{{gamesModel}}" selectedModel="{{selectedGame}}" modelMode="games"></static-view-list>
				</section>
				<section class="view" cross-fade modelName="view-list-platform">
					<static-view-list displayModel="{{platformsModel}}" selectedModel="{{selectedPlatform}}" modelMode="platforms"></static-view-list>
				</section>
			</core-animated-pages>-->
			<core-animated-pages valueattr="mode" selected="{{displayMode}}">
		<section mode="games" style="position: relative;">
		<core-animated-pages valueattr="viewname" selected="{{selectedView}}">
			<section style="position: relative;" viewname="namelist">
				<core-selector selected="0" selectedModel="{{selectedGame}}">
					<template repeat="{{gamesModel}}">
						<div class="model-display">{{Name}}</div>
					</template>
				</core-selector>
			</section>
		</section>
		<section mode="platforms" style="position: relative;">
			<core-animated-pages valueattr="viewname" selected="{{selectedView}}">
			<section style="position: relative;" viewname="namelist">
				<core-selector style="position: relative;" selected="0" selectedModel="{{selectedPlatform}}">
					<template repeat="{{platformsModel}}">
						<div class="model-display">{{Name}}</div>
					</template>
				</core-selector>
			</section>
			<section style="position: relative;" viewname="snamelist">
				<core-selector style="position: relative;" selected="0" selectedModel="{{selectedPlatform}}">
					<template repeat="{{platformsModel}}">
						<div class="model-display">{{PlatformId}}</div>
					</template>
				</core-selector>
				</section>
			</core-animated-pages>
		</section>
  	</core-animated-pages>
			</div>

			<static-mainbar showPlay="{{(themeMode == 'games')}}" barText="{{displayModel.description}}" barTitle="{{displayModel.title}}" barLogo="{{selectedPlatform.Images.img_platform_logo}}" barTable="{{~displayModel.table}}"></static-mainbar>
			
		</div>
		
		<static-background backgroundImage="{{backgroundImage}}"><static-background>
</template>
	
	<script>
		Polymer('static-view', {
			ready: function() {
			this.displayMode = "games";
				window.debug = this;
			this.platformViews = [
				['namelist', 'Names'],
				['snamelist', 'Short Names']
			];
			this.gameViews = [
				['namelist', 'Names']
			];
			}
			
		});
	</script>
</polymer-element>