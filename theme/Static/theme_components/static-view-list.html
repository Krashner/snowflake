<link rel="import" href="static-fonts.html">
<link rel="import" href="unresolved-img.html">
<link rel="import" href="snowflake-game-model.html">
<link rel="import" href="static-view-list-selector.html">
<link rel="import" href="../bower_components/core-selector/core-selector.html">
<polymer-element name="static-view-list-model" attributes="modelMode modelObject viewTitle viewImage viewText viewStats">
  <script>
    Polymer('static-view-list-model', {
		ready: function() {
			this.modelMode = this.modelMode || "game";
			this.modelObject = this.modelObject || null;
			this.updateDisplay(this.modelMode);
		  },
		updateDisplay: function(modelMode){
			 try {
				this.viewTitle = this.modelObject.Name;
				this.viewImage = this.modelObject.Images.Boxarts.img_boxart_front[1] || "undefined";
				this.viewText = this.modelObject.Metadata.game_description || "undefined";
				this.viewStats = [
					{
						"Platform": this.modelObject.PlatformId,
						"Release Date": this.modelObject.Metadata.game_releasedate,
						"Publisher": this.modelObject.Metadata.game_publisher,
						"Developer": this.modelObject.Metadata.game_developer
					},
					{
						"Last Played": "Never",
						"You've played": "0 hours"
					}
				];
			}catch(event){
			
			}
		},
		modelObjectChanged: function(){
			this.updateDisplay(this.modelMode);
		}
		  
    });
  </script>
</polymer-element>

<polymer-element name="static-view-list" attributes="selectedModel displayModel modelMode viewTitle viewImage viewText viewStats">
	<template>
		<style>
		.container{
			height: 100%;
			width: 100%;
			padding: 0;
			margin: 0;
			overflow: hidden;
			cursor: default !important;
		}
		.selector{
			width: 15%;
			position: relative;
			height: 100%;
		}
		
		.content{
			background; #666;
			height: 100%;
		}
		.contentinner{
		width: 100%;

		}
		.image{
			height: 90%;
			width: auto;
			max-width: 80%;
			position: absolute;
			display: block;
			right: 0;
			left: 0;
			top: 0;
			bottom: 0;
			margin: auto;
		}
		.main{
			position: relative;
			height: 100%;
		}
		h1{
			font-size: 4em;
			font-family: 'Bebas Neue';
			font-weight: 700;
			margin: 0;
			color: white;
			position: absolute;
			left: 0;
			bottom: -13px;
			white-space: nowrap;
			text-overflow: ellipsis;
			overflow: hidden;
			width: 100%;
		}
		.header{
			position: relative;
			background: #666;
			height: 5em;
		}
		.game-model.core-selected > .game-model-display{
			background: #fff;
			z-index: -10000000;
		}

	</style>


<static-view-list-model modelMode="{{modelMode}}" modelObject="{{selectedModel}}" viewTitle="{{viewTitle}}" viewImage="{{viewImage}}" viewText="{{viewText}}" viewStats="{{viewStats}}"></static-view-list-model>
<div horizontal layout class="container">
	<static-view-list-selector class="selector" displayModel="{{displayModel}}" selectedModel="{{selectedModel}}" type="{{modelMode}}"></static-view-list-selector>
	<div flex one vertical layout class="content">
		<div class="contentinner header"><h1>{{viewTitle}}</h1></div>
		<div class="contentinner main">	
			<img draggable="false" class="image" src="{{viewImage}}">
		</div>
	</div>
</div>

</div>
</template>
	
	<script>
		Polymer('static-view-list', {
			ready: function() {
				
			},
			selectedModelChanged: function(oldValue, newValue){
				this.fire('model-changed', {newValue: newValue, oldValue: oldValue});
			}
			
		});
	</script>
</polymer-element>
