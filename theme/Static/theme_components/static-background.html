<link rel="import" href="../bower_components/core-animation/core-animation.html">
<polymer-element name="static-background" attributes="backgroundImage">
	<template>
		<style>
			.background {
				background-color: #545454;
				width: 100%;
				height: 100%;
				position: absolute;
				top: 0;
				bottom: 0;
				right: 0;
				left: 0;
				overflow: hidden;
			}
			.background img{
				position: absolute;
				bottom: 0; 
				right: 0; 
				min-width: 100%; 
				min-height: 100%; 
				width: auto; 
				height: auto; 
				overflow: hidden;
				-webkit-filter: blur(5px);
			}
			.background img:active{
				-webkit-filter: blur(0px);

			}
			.background:before{
				background: rgba(0,0,0, 0.5);
				content: '';
				width: 100%;
				height: 100%;
				position: fixed;
				top: 0;
				bottom: 0;
				right: 0;
				left: 0;
				overflow: hidden;
				z-index: 100;
			}
			[unresolved] {
				opacity: 0;
			}
			
		</style>
		<core-animation id="fadein" duration="2000" target="{{$.backgroundElem}}">
		  <core-animation-keyframe>
			<core-animation-prop name="opacity" value="0"></core-animation-prop>
		  </core-animation-keyframe>
		  <core-animation-keyframe>
			<core-animation-prop name="opacity" value="1"></core-animation-prop>
		  </core-animation-keyframe>
		</core-animation>
		<div class="background">
			<img draggable="false" id="backgroundElem" src="{{backgroundImage}}"/>
		</div>
</template>
	<script>
		Polymer('static-background', {
			ready: function() {
				this.backgroundImage = this.backgroundImage || "";
				window.bg = this;
			},
			backgroundImageChanged: function(event) {
				this.$.fadein.play();
			}
			
		});
	</script>
</polymer-element>