<link rel="import" href="static-fonts.html">
<polymer-element name="static-mainbar" attributes="barText barTitle barLogo barTable">
	<template>
		<style>
			.container{
				font-family: 'Roboto Condensed', sans-serif;
				width: 100%;
				height: 100%;
				font-size: 14pt;
				background-color: rgba(255,255,255,0.7);
				position: absolute;
				bottom: 0;
				padding-bottom: 10px;
				
			}
			.outerDiv{
				padding-left: 10px;
				padding-right: 10px;
				margin-top: 10px;
			}
			.container div:not(.border){
				position: relative;
				height: 100%;
			}
			.border{
				border-right: 1px dotted;
				margin-top: 50px;
				margin-bottom: 50px;
				width: 0 !important;
				flex: none !important;
				display: block;
				content: ' ';
			}
			#playButtonArea{
				max-width: 500px;
				width: 275px;
				font-size: 1em;
			}
			#actionArea button{
				font-size: 1.2em;
				width: 100px;
				height: 50px;
			}
			.outerDiv p, .outerDiv h1{
				margin: 0;
				word-wrap: break-word;
				overflow: hidden;
				height: 100%;

			}
			
			.outerDiv h1{
				text-overflow: ellipsis;
				display: -webkit-box;
			   -webkit-line-clamp: 3;
			   -webkit-box-orient: vertical;
			   height: 4em;
			}
			#tableArea table{
				width: 100%;
				padding-bottom: 25px;
			}
			#tableArea table th{
				text-align: left;
			}
			#tableArea table td{
				text-align: right;
			}
			#logoArea{
				min-height: 100%;
			}
			#logoArea img{
				position: absolute;
				top: -10px;
				bottom: 0;
				right: 0;
				left: 0;
				margin: auto;
				max-width: 80%;
				min-width: 75%;
				height: auto;
				max-height: 90%;
			}
		</style>
		
		<div horizontal layout class="container">
		<div flex three horizontal layout class="outerDiv" id="titleActionArea">
			<div flex three id="titleArea" >
				<h1>{{barTitle}}</h1>
			</div>
			<div flex id="actionArea">
				<button on-click="{{onPlayClick}}">Play</button>
			</div>
			</div>
			<div class="border"></div>
			<div flex four id="descriptionArea" class="outerDiv">
				<p>
				{{barText}}
				</P>
			</div>
			<div class="border"></div>
			<div flex id="tableArea" class="outerDiv">
				<template repeat="{{obj in barTable}}">
					<table>
						<template repeat="{{item in obj | fKeys}}">
						  <tr>
							  <th>{{item}}</th>
							  <td>{{obj[item]}}</td>
						  </tr>
						</template>
					</table>
				</template>
			</div>
			<div class="border"></div>
			<div flex two id="logoArea" class="outerDiv">
				<img src="{{barLogo}}"/>
			</div>
		</div>
</template>
	
	<script>
		Polymer('static-mainbar', {
			created: function(){
				this.list = [];
			},
			fKeys : function(o){
				return Object.keys(o);
			},
			onPlayClick: function() {
				this.fire('play'); // fire(inType, inDetail, inToNode)
			  },
			ready: function() {
				window.debug = this;
				this.barText = this.barText || "set model.barText";
				this.barTitle = this.barTitle || "set model.barTitle";
				this.barLogo = this.barLogo || "https://dev.sourcefabric.org/secure/attachment/10933/404.png";
				this.backgroundImage = this.backgroundImage || "https://dev.sourcefabric.org/secure/attachment/10933/404.png";
				

			}
			
		});
	</script>
</polymer-element>