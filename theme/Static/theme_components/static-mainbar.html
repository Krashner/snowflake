<link rel="import" href="static-fonts.html">
<link rel="import" href="../bower_components/core-icons/core-icons.html">
<link rel="import" href="../bower_components/core-icons/av-icons.html">
<link rel="import" href="../bower_components/core-icon/core-icon.html">
<polymer-element name="static-mainbar" attributes="barText barTitle barLogo barTable showPlay">
	<template>
		<style>
			:host{
				height:100%;
			}
			.container{
				font-family: 'Roboto Condensed', sans-serif;
				width: 100%;
				height: 100%;
				font-size: 14pt;
				background-color: rgba(255,255,255,0.7);
				position: relative;
				bottom: 0;
				padding-bottom: 10px;
				color: #151515;
				
			}
			.outerDiv{
				padding-left: 10px;
				padding-right: 10px;
				margin-top: 10px;
			}
			.container div:not(.border){
				position: relative;
				height: 100%;
			}
			.border{
				border-right: 1px solid;
				margin-top: 20px;
				margin-bottom: 20px;
				color: #777;
				width: 0 !important;
				flex: none !important;
				display: block;
				content: ' ';
				padding: 0;
			}
			#playButtonArea{
				max-width: 500px;
				width: 275px;
				font-size: 1em;
			}
			#actionArea button{
				font-size: 1.2em;
				width: 100px;
				height: 50px;
				background-color: rgba(255,255,255,0.7);
				outline: none;
				border: none;
				text-align: left;
				line-height: 1.2em;
				vertical-align: middle;
				padding: 0;
			}
			#actionArea button:active{
				
				background-color: rgba(240,240,240,0.7);
				
			}
			core-icon svg{
				width: 1.2em !important;
				height: 1.2em !important;
			}
			core-icon{
				width: 1.2em !important;
				height: 1.2em !important;
				top: 0;
				bottom: 0;
			}
			.outerDiv p, .outerDiv h1{
				margin: 0;
				word-wrap: break-word;
				overflow: hidden;
				height: 100%;

			}
			
			.outerDiv h1{
				text-overflow: ellipsis;
				display: -webkit-box;
			   -webkit-line-clamp: 3;
			   -webkit-box-orient: vertical;
			   height: 4em;
			   font-size: 1.5em;
			   font-weight: 600;
			}
			#titleArea{
				padding-right: 10px;
			}
			#tableArea table{
				width: 100%;
				padding-bottom: 25px;
			}
			#tableArea table th{
				text-align: left;
			}
			#tableArea table td{
				text-align: right;
			}
			#logoArea{
				min-height: 100%;
				height: initial;
			}
			#logoArea img{
				position: relative;
				margin: auto;
				max-width: 80%;
				min-width: 75%;
				height: auto;
				max-height: 90%;
			}
			.actionText{
				vertical-align: bottom;
				font-family: 'RobotoDraft', sans-serif;
				text-transform: uppercase;
				font-weight: 300;
			}
			
		</style>
		
		<div horizontal layout class="container">
		<div flex three horizontal layout class="outerDiv" id="titleActionArea">
			<div flex three id="titleArea" >
				<h1>{{barTitle}}</h1>
			</div>
			<template if="{{showPlay}}">
				<div flex id="actionArea">
					<button on-click="{{onPlayClick}}">
							<span class="actionText"><core-icon icon="av:play-arrow" style="padding-bottom: 2px;"></core-icon></span>
							<span class="actionText">Play</span>
					</button>
				</div>
			</template>
			</div>
			<div class="border"></div>
			<div flex four id="descriptionArea" class="outerDiv">
				<p>
				{{barText}}
				</P>
			</div>
			<div class="border"></div>
			<div flex two id="tableArea" class="outerDiv">
				<template repeat="{{obj in barTable}}">
					<table>
						<template repeat="{{item in obj | fKeys}}">
						  <tr>
							  <th>{{item}}</th>
							  <td>{{obj[item]}}</td>
						  </tr>
						</template>
					</table>
				</template>
			</div>
			<div class="border"></div>
			<div horizontal layout center flex two id="logoArea" class="outerDiv">
				<img draggable="false" src="{{barLogo}}"/>
			</div>
		</div>
</template>
	
	<script>
		Polymer('static-mainbar', {
			created: function(){
				this.list = [];
			},
			fKeys : function(o){
				return Object.keys(o);
			},
			onPlayClick: function() {
				this.fire('play'); // fire(inType, inDetail, inToNode)
			  },
			ready: function() {
				this.barText = this.barText || "set model.barText";
				this.barTitle = this.barTitle || "set model.barTitle";
				this.barLogo = this.barLogo || "https://dev.sourcefabric.org/secure/attachment/10933/404.png";
				this.backgroundImage = this.backgroundImage || "https://dev.sourcefabric.org/secure/attachment/10933/404.png";
				

			}
			
		});
	</script>
</polymer-element>