<polymer-element name="snowflake-controller-view" attributes="platformViews gameViews currentViews selectedView displayMode">
  <script>
    Polymer('snowflake-controller-view', {
		domReady: function() {	
			this.update();
		},
		update: function(){
			switch(this.displayMode) {
				case "games":
					this.currentViews = this.gameViews;
					this.selectedView = (this.selectedGameView == undefined) ? this.gameViews[0][0] : this.selectedGameView;
					break;
				case "platforms":
					this.currentViews = this.platformViews;
					this.selectedView = (this.selectedPlatformView == undefined) ? this.platformViews[0][0] : this.selectedPlatformView;
					break;
				default:
					this.currentViews = this.gameViews;
					this.selectedView = (this.selectedGameView == undefined) ? this.gameViews[0][0] : this.selectedGameView;
					break;
			};
		},
		displayModeChanged: function(){ this.update(); },
		selectedViewChanged: function(){ 
			switch(this.displayMode) {
				case "games":
					this.selectedGameView = this.selectedView;
					break;
				case "platforms":
					this.selectedPlatformView = this.selectedView;
			};
		}

			
    });
  </script>
</polymer-element>