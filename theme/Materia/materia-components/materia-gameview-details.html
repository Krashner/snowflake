<link rel="import" href="../bower_components/core-selector/core-selector.html">
<polymer-element name="materia-gameview-details">
	<template>
		<core-selector id="gameList" selected="0" on-core-select="{{gameSelect}}">
			<template repeat="{{game in games}}">
				<div class="gameItem" index="{{gameIndex}}" name="{{game.name}}">{{game.name}}</div>
			</template>
		</core-selector>
	<div id="gameDetails">
			<div id="gameLaunch">
				<h1>{{game.name}}</h1>
				<a href="#play">Play</a>
				<a href="#config">Configure</a>
			</div>
			<div id="gameStats"> 
				<table>
						<tr>
							<th scope="row">Publisher</th>
							<!--todo set this snowflake keys-->
							<td>{{game.metadata['publisher']}}</td>
						</tr>
						<tr>
							<th scope="row">Developer</th>
							<td>{{game.metadata['developer']}}</td>
						</tr>
						<tr>
							<th scope="row">Release Date</th>
							<td>{{game.metadata['releasedate']}}</td>
						</tr>
				</table>
			</div>
			<div id="gameDescription">
				<p>
					{{game.metadata['description']}}
				</p>
			</div>
			<div id="gameBoxart">
				<img src="{{games[selectedGameIndex].images['boxart_front']}}"></img>
			</div>
		</div>
	</template>
	
	<script>
		Polymer('materia-gameview-details', {
			ready: function() {
				this.games = [];
			},
			gameSelect: function(e, detail) {
				if (detail.isSelected) {
					this.game = this.games[detail.item.getAttribute('index')];
				}
			}
		});
	</script>
</polymer-element>