<link rel="import" href="../bower_components/core-selector/core-selector.html">
<link rel="import" href="../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../snowflake-components/snowflake-gameview-details.html">


<link rel="import" href="../bower_components/core-selector/core-selector.html">
<polymer-element name="materia-gameview-details">
	<template>
	<style>
	#gameListContainer{
		height: 100%;
		display: inline;
		float: left;
		background: #eee;
	}
	#gameDetails{
		
	}
	#gameStats{
		width: 300px;
		text-align: left;
	}
	#gameTitle{
		display: inline-block;
	}
	#gameBoxart{
		display: inline;
		float: right;
		clear: both;
		
	}
	#gameBoxart img{
		max-height: 500px;
		width: auto;
	}
	.float-left{
			float: left;
	}
	.float-right{
			float: right;
	}
	.clear-both{
			clear: both;
	}
	</style>
	<core-drawer-panel>
	<div id="gameListContainer" drawer>
		<core-selector id="gameList" selected="0" on-core-select="{{gameSelect}}">
			<template repeat="{{game, gameIndex in games}}">
				<div class="gameItem" index="{{gameIndex}}" name="{{game.name}}">{{game.name}}</div>
			</template>
		</core-selector>
	</div>

	<div id="gameDetails" main>
			<div id="gameLaunch">
				<h1 id="gameTitle" class="info">
				<paper-shadow z="1"><paper-shadow>
				{{game.name}}
				</h1><br />
				<a href="#snowflake://run/{{game.id}}" class="info">
					<paper-shadow z="1"><paper-shadow>
					Play
				</a><br />
				<a href="#snowflake://config/{{game.id}}" class="info">
					<paper-shadow z="1"><paper-shadow>
					Configure
				</a><br />
			</div>
			<div id="gameStats" class="info"> 
				<paper-shadow z="1"><paper-shadow>
				<table>
						<tr>
							<th scope="row">Publisher</th>
							<!--todo set this snowflake keys-->
							<td>{{game.metadata.publisher}}</td>
						</tr>
						<tr>
							<th scope="row">Developer</th>
							<td>{{game.metadata.developer}}</td>
						</tr>
						<tr>
							<th scope="row">Release Date</th>
							<td>{{game.metadata.releasedate}}</td>
						</tr>
				</table>
			</div>

			<div id="gameBoxart" class="info">
				<img src="http://i.gyazo.com/225103c5c374dc23ff61795144972286.png">
				<paper-shadow z="1"></paper-shadow></img>
			</div>
			<div id="gameDescription" class="info">
				<paper-shadow z="1"><paper-shadow>
				<p>
					{{game.metadata.description}}
				</p>
			</div>
		</div>
		</core-drawer-panel>
	</template>
	
	<script>
		Polymer('materia-gameview-details', {
			created: function() {
			this.games = [
					{
						id: "someid",
						name: "test",
						metadata: {
							"publisher" : "pub_test",
							"developer": "dev_test",
							"releasedate": "0/0/0",
							"description": "Lorem Ipsum Blah blah"
						}
						
					},
					{
						id: "someid2",
						name: "test2",
						metadata: {
							"publisher" : "pub_test2",
							"developer": "dev_test2",
							"releasedate": "0/0/2",
							"description": "Lorem Ipsum Blah blah"
						}
						
					}
				];
			},
			domReady: function() {
				this.game = this.games['0'];
			},
			gameSelect: function(e, detail) {
				if (detail.isSelected) {
					this.game = this.games[detail.item.getAttribute('index')];
				}
			}
		});
	</script>
</polymer-element>